{% extends 'datadump/base.html' %}

{% block title %}Home{% endblock %}

{% block content %}
<div class="container my-4">
    {% for post in posts %}
    <div class="card">
        <a href="{{ post.get_absolute_url }}">
            <div class="card-header">
                <h3>{{ post.title }}</h3>
            </div>
        </a>
        <div class="card-body">
            <p>{{ post.body }}</p>
            <h6><b class="user-bold">@{{ post.author }}</b> - {{ post.publish }}</h6>
            {% for tag in post.tags.all %}
            <a href="/datadump/tag/{{ tag.slug }}">
                <button class="btn btn-primary btn-tag" data-toggle="tooltip" data-placement="bottom"
                        title="This is the {{ tag.name }} tag">{{ tag }}
                </button>
                {% endfor %}
            </a>
        </div>
    </div>
    {% endfor %}
</div>
{% include "pagination.html" with page=posts %}
{% endblock %}
{% block sidebar %}
{% load datadump_tags %}
<div class="container my-4">
    <div class="card bg-dark text-white">
        <div class="card-header">
            <h3>Latest Posts</h3>
        </div>
        <div class="card-body">
            <!-- Should add five latest posts (e.g. 'for post in latest_posts') -->
            {% for post in 5|get_latest_posts %}
            <a href="{{ post.get_absolute_url }}">
                <p>• {{ post.title }}</p>
            </a>
            {% endfor %}
        </div>
    </div>
    <div class="card bg-info text-white">
        <div class="card-header">
            <h3>Top Used Tags</h3>
        </div>
        <div class="card-body">
            <!-- Should add top 5 viewed posts (e.g. 'for post in most_viewed') -->
            {% for tag in 5|get_most_tags %}
            <a href="/datadump/tag/{{ tag.slug }}">
                <p>• {{ tag.name }}</p>
            </a>
            {% endfor %}
        </div>
    </div>
    <div class="card bg-warning text-white">
        <div class="card-header">
            <h3>Top Commented Posts</h3>
        </div>
        <div class="card-body">
            <!-- Should add posts with most comments (e.g. 'for post in most_comments') -->
            {% for post in 5|get_most_comments %}
            <a href="{{ post.get_absolute_url }}">
                <p>• {{ post.title }}</p>
            </a>
            {% endfor %}
        </div>
    </div>
</div>
{% endblock %}